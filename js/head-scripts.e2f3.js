!function(a,b){function c(b,c){this.element=b,this.options=a.extend({},f,c),this._defaults=f,this._name=e,this.init()}var d,e="aslider",f={resistanceSpeed:.7,overleapSpeed:.2,flipPoint:400,transitionString:"all .5s ease",startSlide:0};c.prototype={init:function(){this.dragging=!1,this.startX=0,this.endX=0,this.windowWidth=a(b).width(),this.slideIndex=this.options.startSlide,this.diff=0,this.slideCount=a(this.element).find(".slides-slide").length,this.dragElement=!1,d=this;var c=a(d.element).find(".slides-slide:nth-child("+(d.slideIndex+1)+")"),e=c.position().left,f=e;a(".slides-handle",d.element).css("transform","translate3d("+-f+"px, 0, 0)"),a("body").on("mousedown",this.onStart).on("mouseup",this.onEnd).on("mousemove",this.onDrag)},onStart:function(a){d.dragging=!0,d.startX=a.screenX,d.dragElement=a.target,d.removeTransition(),d.options.startCallback&&d.options.startCallback(d)},onEnd:function(b){d.dragging=!1,d.endX=b.screenX,d.addTransition(),d.diff=d.endX-d.startX;var c=!1;d.options.cancelCallback&&(c=d.options.cancelCallback(d)),c||(d.diff<-d.options.flipPoint&&d.slideIndex<d.slideCount-1?d.slideIndex=d.slideIndex+1:d.diff>d.options.flipPoint&&d.slideIndex>0&&(d.slideIndex=d.slideIndex-1));var e=a(d.element).find(".slides-slide:nth-child("+(d.slideIndex+1)+")"),f=e.position().left,g=f;a(".slides-handle",d.element).css("transform","translate3d("+-g+"px, 0, 0)"),d.dragElement=!1,d.options.endCallback&&d.options.endCallback(d)},onDrag:function(b){if(d.dragging&&(d.diff=b.screenX-d.startX,d.diff)){var c=a(d.element).find(".slides-slide:nth-child("+(d.slideIndex+1)+")"),e=c.position().left,f=c.width()+e;if(d.diff>0&&0==e||d.diff<0&&f>a(d.element).width())var g=d.diff*d.options.overleapSpeed-e;else var g=d.diff*d.options.resistanceSpeed-e;a(".slides-handle",d.element).css("transform","translate3d("+g+"px, 0, 0)"),d.options.dragCallback&&d.options.dragCallback(d)}},addTransition:function(){a(".slides-handle",d.element).css("transition",d.options.transitionString)},removeTransition:function(){a(".slides-handle",d.element).css("transition","none")}},a.fn[e]=function(b){return this.each(function(){a.data(this,"plugin_"+e)||a.data(this,"plugin_"+e,new c(this,b))})}}(jQuery,window,document),$(function(){var a=window.location.pathname.split("/")[1],b=0;a&&($("body").addClass("has-increased-main-menu"),$(".mainmenu-link").css("transition","none"),$("body").addClass("has-shown-overview"),$(".mainmenu-link-next").css("transition","none"),$(".mainmenuslide").css("transition","none"),$(".mainmenu-link--"+a).addClass("mainmenu-link--is-dragged"),b=2),setTimeout(function(){$(".mainmenu-link").removeAttr("style"),$(".mainmenuslide").removeAttr("style"),$(".mainmenu-link-next").removeAttr("style")},100),$("#slides").aslider({startSlide:b,cancelCallback:function(a){return $(a.dragElement).parents(".aboutslide").length&&1==a.slideIndex&&a.diff<0?!0:void 0},endCallback:function(b){2==b.slideIndex?($("body").addClass("has-increased-main-menu"),a!=$(".mainmenu-link--is-dragged").attr("data-category")?$(".mainmenu-link--is-dragged").one("transitionend",function(){window.location="/"+$(".mainmenu-link--is-dragged").attr("data-category")}):$(".mainmenu-link--is-dragged").one("transitionend",function(){$("body").addClass("has-shown-overview")})):$("body").removeClass("has-increased-main-menu"),$("body").removeClass("has--dragged-mainmenu-link"),$(".mainmenu-link").removeAttr("style"),b.slideIndex<2&&a?$(".slides-handle").one("transitionend",function(){history.replaceState(null,null,"/")}):a==$(".mainmenu-link--is-dragged").attr("data-category")&&history.replaceState(null,null,"/"+a+"/")},startCallback:function(){$("body").removeClass("has-shown-overview")},dragCallback:function(a){var b;if($(a.dragElement).hasClass("mainmenu-link"))var b=$(a.dragElement);else if($(a.dragElement).parents(".mainmenu-link").length)var b=$(a.dragElement).parents(".mainmenu-link");if(b&&a.diff<0&&2!=a.slideIndex||b&&a.diff>0&&2==a.slideIndex){var c;$("body").addClass("has--dragged-mainmenu-link"),$(".mainmenu-link--is-dragged").removeClass("mainmenu-link--is-dragged"),b.addClass("mainmenu-link--is-dragged"),$(".mainmenu-link").css("transition","none");var d=$(".mainmenu-link").length,e=1/d;c=2==a.slideIndex?$(window).width()/2:$(window).width();var f=1/c*Math.abs(a.diff)*a.options.resistanceSpeed;if(2==a.slideIndex)var f=1-f;var g=1-e,h=g*f,i=100*(h+e),j=(100-i)/(d-1);$(".mainmenu-link.mainmenu-link--is-dragged").css("height",i+"%"),$(".mainmenu-link:not(.mainmenu-link--is-dragged)").css("height",j+"%")}}})});